<div ng-controller="TicketController">
	<div class="container">
		<form name="formulario">
			<div class="panel panel-primary">
				<div class="panel-heading">Datos Personales</div>
				<div class="panel-body">
					<div class="form-group">
						 <input name="ticketname" type="text" class="form-control" ng-model="ticket.name" value="ticket.name" ng-minlength="1" ng-maxlength="100" required="" placeholder="Nombre y Apellido">		
					</div>
			        <div ng-messages="formulario.ticketname.$error" ng-if="formulario.ticketname.$touched">
    			      <p class="alert alert-danger" role="alert" ng-message="required">Debe ingresar nombre y apellido en este campo</p>
    			      <p class="alert alert-danger" role="alert" ng-message="minlength">Debe ingresar un nombre y apellido</p>
    			      <p class="alert alert-danger" role="alert" ng-message="maxlength">El nombre y usuario es muy largo</p>
					</div>
					<div class="form-group">
						 <input name="ticketemail" type="email" class="form-control" ng-model="ticket.email" value="ticket.email" ng-minlength="1" ng-maxlength="100" required="" placeholder="E-mail" >				
					</div>
			        <div ng-messages="formulario.ticketemail.$error" ng-if="formulario.ticketemail.$touched">
			            <p class="alert alert-danger" role="alert" ng-message="required">Debe ingresar el correo electronico en este campo</p>
				    	<p class="alert alert-danger" role="alert" ng-message="email">Debe el formato de un correo electrónico</p>
        			</div>
					<div class="form-group">
						 <input name="contact_number" type="number" class="form-control" ng-model="ticket.contact_number" value="ticket.contact_number" ng-minlength="6" ng-maxlength="15" required placeholder="Numero de contacto" >				
					</div>
			        <div ng-messages="formulario.contact_number.$error" ng-if="formulario.contact_number.$touched">
			            <p class="alert alert-danger" role="alert" ng-message="required">Debe ingresar el numero de contacto en este campo</p>
				    	<p class="alert alert-danger" role="alert" ng-message="maxlength">El numero de contacto es muy largo debe ser menor a 14 numeros</p>
				    	<p class="alert alert-danger" role="alert" ng-message="minlength">El numero de contacto debe ser mayor o igual a 6 numeros</p>
        			</div>
				</div>


			</div>
			<div class="panel panel-primary">
				<div class="panel-heading">Descripción</div>
					<div class="panel-body">
						<textarea name="description" ng-model="ticket.description" value="ticket.description" class="form-control" style="height: 180px;" required="">
						</textarea>
					</div>
			        <div ng-messages="formulario.description.$error" ng-if="formulario.description.$touched">
			            <p class="alert alert-danger" role="alert" ng-message="required">Debe ingresar la descripcion del reclamo en este campo</p>

        			</div>
			</div>
			<div align="center">
				<button ng-disabled='!formulario.$valid' class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#GSCCModal" ng-click="addTicket(ticket.name,ticket.email,ticket.contact_number,ticket.description)" >Registrar ticket</button>
			</div>	
		</form>
	</div>
	<div id="GSCCModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	 <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;  </button>
	        <h4 class="modal-title" id="myModalLabel">Ticket generado</h4>
	      </div>
	      <div class="modal-body">
	        <h4 align="center">Ticket n°:</h4>
	        <h2 align="center">{{responseticket.idTicket}}</h2>    
	        <h2 align="center">Guarde este número para posteriores consultas</h2>  
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Aceptar</button>
	      </div>
	    </div>
	  </div>
	</div>
</div>